<launch>
    <group ns="/pcl_filters"> <node pkg="nodelet" type="nodelet" name="box_filter_pcl_manager" args="manager" output="screen"/>
    
    <!-- Run a passthrough filter to delimit in x direction -->
    <!-- <node pkg="nodelet" type="nodelet" name="psx" args="load pcl/PassThrough box_filter_pcl_manager" output="screen">
    <remap from="~input" to="/rs16/points_raw" />
    <rosparam>
        filter_field_name: x
        filter_limit_min: -0.8
        filter_limit_max: 0.5
    </rosparam>
    </node> -->

    <!-- Run a passthrough filter to delimit in y direction -->
    <!-- <node pkg="nodelet" type="nodelet" name="psy" args="load pcl/PassThrough box_filter_pcl_manager" output="screen">
        <remap from="~input" to="/rs16/points_raw" />
        <rosparam>
            filter_field_name: y
            filter_limit_min: -1.0
            filter_limit_max: 0.3
        </rosparam>
    </node> -->

    <!-- Run a passthrough filter to delimit in z direction -->
    <!-- <node pkg="nodelet" type="nodelet" name="psz" args="load pcl/PassThrough box_filter_pcl_manager" output="screen">
        <remap from="~input" to="/rs16/points_raw" />
        <rosparam>
            filter_field_name: z
            filter_limit_min: 0.0
            filter_limit_max: 2.0
        </rosparam>
    </node> -->

    <node pkg="nodelet" type="nodelet" name="rs16_cropbox" args="load pcl/CropBox box_filter_pcl_manager" output="screen">
        <remap from="~input" to="/rs16/points_raw" />
        <remap from="/pcl_filters/rs16_cropbox/output" to="/rs16/cropbox/points_raw" />
        
        <rosparam>
            min_x: 1
            max_x: 3
            min_y: -3
            max_y: 3
            min_z: -2
            max_z: 2
        </rosparam>
    </node>

    <node pkg="nodelet" type="nodelet" name="rsbp_cropbox" args="load pcl/CropBox box_filter_pcl_manager" output="screen">
        <remap from="~input" to="/rsbp/points_raw" />
        <remap from="/pcl_filters/rsbp_cropbox/output" to="/rsbp/cropbox/points_raw" />
        
        <rosparam>
            min_x: -1
            max_x: 2
            min_y: -3
            max_y: 3
            min_z: -3
            max_z: 3
        </rosparam>
    </node>

    <node pkg="nodelet" type="nodelet" name="zed_cropbox" args="load pcl/CropBox box_filter_pcl_manager" output="screen">
        <remap from="~input" to="/zed2i/zed_node/point_cloud/cloud_registered" />
        <remap from="/pcl_filters/zed_cropbox/output" to="/zed2i/zed_node/cropbox/point_cloud/cloud_registered" />
        
        <rosparam>
            min_x: 0
            max_x: 2
            min_y: -3
            max_y: 3
            min_z: -1
            max_z: 2
        </rosparam>
    </node>
    </group> 
</launch>